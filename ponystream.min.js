/* PonyStream
 * https://github.com/fpirsch/ponystream
 */
var PonyStream=function(){function n(n){var t=document.documentElement.style
if(n in t)return n
var e=["webkit","Moz","ms","O"]
n=n.charAt(0).toUpperCase()+n.substr(1)
for(var i=0;i<e.length;i++){var o=e[i]+n
if(o in t)return o}}function t(n){function t(t){return function(e,i){var o=new Image
o.onload=function(){o.height>u&&(u=o.height),e()},o.onerror=i,o.src=n[t],l[t]=o}}n=n||y
var e=[]
l=[],u=0
for(var i=0;i<n.length;i++)e.push(new Promise(t(i)))
return Promise.all(e).then(function(){c.loaded=!0})}function e(n){return n[Math.floor(Math.random()*n.length)]}function i(){var n=e(l),t=document.createElement("img")
t.src=n.src,t.width=n.width,t.height=n.height
var i=c.minDistance+Math.floor(Math.random()*(c.maxDistance-c.minDistance))
return i>0&&(t.style.margin="0 "+i+"px 0 0"),{body:t,width:t.width+i}}function o(n){for(;n.position>n.width;){var t=i()
n.node.appendChild(t.body),n.width+=t.width,n.ponyCount++,n.ponySizes.push(t.width)}}function s(n){for(var t;n.position>=f+(t=n.ponySizes[0]);)n.node.removeChild(n.node.firstChild),n.width-=t,n.ponyCount--,n.ponySizes.shift(),n.position-=t}function r(){g.position+=c.speed,v.position+=c.speed,s(v),s(g),m&&(o(g),o(v)),g.node.style.transform="scaleX(-1) translateX("+(f-g.position)+"px)",v.node.style.transform="translateX("+(f-v.position)+"px)",h=g.ponyCount>0||v.ponyCount>0?requestAnimationFrame(r):void 0}function a(n){var t=document.createElement("div")
t.className="pony-track",t.style.position="absolute",t.style.left=0,t.style.right=0,t.style.bottom=0,t.style.top=0
var e=n?"scaleX(-1) ":""
return t.style[w]=e+"translateX("+f+"px)",t.style.whiteSpace="nowrap",t}function p(n){if(n=n||document.body,!l)throw Error("PonyStream: please load images first")
if(!g.node){if(f=n.getBoundingClientRect().width,0===f)return
var t=document.createElement("div")
t.className="pony-arena",t.style.position="absolute",t.style.left=0,t.style.right=0,t.style.bottom=0,t.style.height=u+"px",t.style.pointerEvents="none",t.style.overflow="hidden",t.appendChild(g.node=a(!0)),t.appendChild(v.node=a()),n.appendChild(t)}h||(m=!0,g.ponyCount=0,g.ponySizes.length=0,g.width=0,g.position=0,v.ponyCount=0,v.ponySizes.length=0,v.width=0,v.position=0,h=requestAnimationFrame(r))}function d(n){h?m=!1:p(n)}var l,f,u,h,c,m=!0,y=["ponies/af.gif","ponies/bm.gif","ponies/cc.gif","ponies/cs.gif","ponies/dl.gif","ponies/ib.gif","ponies/jl.gif","ponies/km.gif","ponies/kr.gif","ponies/lw.gif","ponies/mk.gif","ponies/mt.gif","ponies/mu.gif","ponies/ni.gif","ponies/nk.gif","ponies/rs.gif","ponies/tj.gif","ponies/tl.gif","ponies/zf.gif"],g={node:void 0,width:0,ponyCount:0,ponySizes:[],position:0},v={node:void 0,width:0,ponyCount:0,ponySizes:[],position:0},w=n("transform")
return c={speed:2,minDistance:0,maxDistance:80,load:t,loaded:!1,start:p,stop:function(){m=!1},toggle:d,version:"1.0.1",pause:function(){cancelAnimationFrame(h)}}}()
